<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="JS_Interview_Questions/index.js"></script>
  </head>
  <body>
    <button id="myButton">click me</button>
    <input type="text" id="myInput" placeholder="Enter anything" />
  </body>
  <script>
  const EventEmitter = function () {
        this.handlers = [];

        this.subscribe = function (fn) {
          this.handlers.push(fn);
        };

        this.unsubscribe = function (fn) {
          this.handlers = this.handlers.filter((item) => item !== fn);
        };
        this.fire = function(eventName, eventData, thisObj) {
            const scope = thisObj || window;
            console.log(scope,'scope');
            this.handlers.forEach((handler)=> handler.call(scope,eventName,eventData));
        }
      };

      // Event handlers
      const buttonClickHandler = function (eventName, eventData) {
        console.log(
          `Button Clicked! Event Name: ${eventName}, Data: ${eventData}`
        );
        console.log(`This represents the button:`, this);
      };

      const inputChangeHandler = function (eventName, eventData) {
        console.log(
          `Input Changed! Event Name: ${eventName}, Data: ${eventData}`
        );
        console.log(`This represents the input:`, this);
      };

      const emitter = new EventEmitter();
      // Subscribe handlers
       emitter.subscribe(buttonClickHandler);
      emitter.subscribe(inputChangeHandler);

      // Get DOM elements
      const myButton = document.getElementById('myButton');
      const myInput = document.getElementById('myInput');

      myButton.addEventListener('click', function(e) {
        console.log(this,'Test');
        emitter.fire('buttonClick','button data', this);
      })

      myInput.addEventListener('input', function(e) {
        emitter.fire('inputChange','input data', this);
      })

  </script>
</html>;

</html>
